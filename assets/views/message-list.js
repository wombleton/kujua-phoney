// Generated by CoffeeScript 1.3.1
(function() {

  if (this.Phoney == null) {
    this.Phoney = {};
  }

  Phoney.MessageListView = Backbone.View.extend({
    initialize: function() {
      this.collection.bind('reset', this.addAll, this);
      this.collection.bind('add', this.addOne, this);
      this.collection.fetch();
      return $('form').submit(function() {
        return false;
      });
    },
    render: function() {},
    addAll: function() {
      return this.collection.each(this.addOne, this);
    },
    addOne: function(message) {
      var view;
      view = new Phoney.MessageView({
        model: message
      });
      return this.$el.append(view.render());
    },
    send: function(number, message) {
      return $.ajax({
        contentType: 'application/json',
        data: JSON.stringify({
          message: message,
          number: number
        }),
        dataType: 'json',
        type: 'POST',
        url: 'messages'
      });
    }
  });

}).call(this);
